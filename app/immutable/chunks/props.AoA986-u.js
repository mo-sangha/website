import{ad as h,u as I,ae as M,U as C,k as f,a5 as F,a6 as G,af as K,ag as V,ah as N,ai as $,aj as j,ak as z,al as T,am as H,a1 as Z,an as J,ao as Q,S as W,ap as X,m as L,aq as y,V as k,F as D,ar as ee,as as q}from"./runtime.kzSHvXXo.js";import{p as re}from"./if.DfFCwMHq.js";function ne(e,r,s){if(e==null)return r(void 0),h;const n=I(()=>e.subscribe(r,s));return n.unsubscribe?()=>n.unsubscribe():n}let v=!1;function te(e,r,s){const n=s[r]??(s[r]={store:null,source:C(void 0),unsubscribe:h});if(n.store!==e)if(n.unsubscribe(),n.store=e,e==null)n.source.v=void 0,n.unsubscribe=h;else{var _=!0;n.unsubscribe=ne(e,a=>{_?n.source.v=a:F(n.source,a)}),_=!1}return f(n.source)}function le(){const e={};return M(()=>{for(var r in e)e[r].unsubscribe()}),e}function ue(e){var r=v;try{return v=!1,[e(),v]}finally{v=r}}const se={get(e,r){if(!e.exclude.includes(r))return f(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,s){return r in e.special||(e.special[r]=ae({get[r](){return e.props[r]}},r,N)),e.special[r](s),q(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),q(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function ce(e,r){return new Proxy({props:e,exclude:r,special:{},version:k(0)},se)}function B(e){for(var r=D,s=D;r!==null&&!(r.f&(j|z));)r=r.parent;try{return T(r),e()}finally{T(s)}}function ae(e,r,s,n){var A;var _=(s&H)!==0,a=!Z||(s&J)!==0,p=(s&Q)!==0,U=(s&ee)!==0,O=!1,t;p?[t,O]=ue(()=>e[r]):t=e[r];var Y=W in e||X in e,d=((A=G(e,r))==null?void 0:A.set)??(Y&&p&&r in e?u=>e[r]=u:void 0),i=n,b=!0,P=!1,m=()=>(P=!0,b&&(b=!1,U?i=I(n):i=n),i);t===void 0&&n!==void 0&&(d&&a&&K(),t=m(),d&&d(t));var l;if(a)l=()=>{var u=e[r];return u===void 0?m():(b=!0,P=!1,u)};else{var w=B(()=>(_?L:y)(()=>e[r]));w.f|=V,l=()=>{var u=f(w);return u!==void 0&&(i=void 0),u===void 0?i:u}}if(!(s&N))return l;if(d){var g=e.$$legacy;return function(u,c){return arguments.length>0?((!a||!c||g||O)&&d(c?l():u),u):l()}}var S=!1,x=!1,E=C(t),o=B(()=>L(()=>{var u=l(),c=f(E);return S?(S=!1,x=!0,c):(x=!1,E.v=u)}));return _||(o.equals=$),function(u,c){if(arguments.length>0){const R=c?f(o):a&&p?re(u):u;return o.equals(R)||(S=!0,F(E,R),P&&i!==void 0&&(i=R),I(()=>f(o))),u}return f(o)}}export{te as a,ce as l,ae as p,le as s};
